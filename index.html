<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Family Feud</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Google Sans', 'Roboto', sans-serif;
            background-color: #F1F3F4; /* Google's light gray background */
            color: #3c4043; /* Google's standard text color */
        }

        /* Custom Google Colors */
        .google-blue { color: #4285F4; }
        .google-red { color: #EA4335; }
        .google-yellow { color: #FBBC05; }
        .google-green { color: #34A853; }
        .bg-google-blue { background-color: #4285F4; }
        .bg-google-red { background-color: #EA4335; }
        .bg-google-yellow { background-color: #FBBC05; }
        .bg-google-green { background-color: #34A853; }
        
        .card {
            background-color: #FFFFFF;
            border-radius: 1.5rem; /* More rounded corners */
            border: 1px solid #DADCE0;
            padding: 1.5rem;
            box-shadow: 0 1px 3px 0 rgba(60,64,67,0.302), 0 4px 8px 3px rgba(60,64,67,0.149);
            transition: all 0.3s ease-in-out;
        }

        .team-card.active {
            transform: scale(1.05);
            border-color: #4285F4;
            box-shadow: 0 8px 15px rgba(66, 133, 244, 0.4);
        }

        /* Answer Card Flip Animation */
        .answer-flipper {
            perspective: 1000px;
        }
        .answer-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .answer-flipper.revealed .answer-inner {
            transform: rotateY(180deg);
        }
        .answer-front, .answer-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 1.25rem;
        }
        .answer-front {
            background-color: #E8EAED; /* Google light gray for un-revealed */
        }
        .answer-back {
            background-color: #E8F0FE; /* Google light blue for revealed */
            transform: rotateY(180deg);
            padding: 1rem;
        }

        .btn {
            @apply text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4;
        }
        .btn-blue {
            @apply bg-google-blue focus:ring-blue-300;
        }
        .btn-red {
            @apply bg-google-red focus:ring-red-300;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            transform: scale(0.9);
            transition: transform 0.3s;
        }
        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">

    <main id="gameContainer" class="max-w-screen-2xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-6">
        
        <!-- Left Column: Teams -->
        <div id="teamsContainer" class="lg:col-span-1 space-y-4">
            <!-- Team cards will be generated here -->
        </div>

        <!-- Center Column: Question & Answers -->
        <div id="center-column" class="lg:col-span-2 flex flex-col gap-6">
            <div id="questionCard" class="card flex-grow flex items-center justify-center text-center">
                 <div id="initialView">
                     <h1 class="text-4xl font-bold mb-4">Family Feud</h1>
                     <p class="text-lg text-gray-600 mb-8">Google India Marketing Edition</p>
                     <button id="startGameButton" class="btn btn-blue text-xl">Start Game</button>
                 </div>
                <div id="questionView" class="hidden">
                     <p class="text-lg font-medium text-gray-500 mb-2">Round: <span id="roundDisplay">1</span></p>
                    <h2 id="questionDisplay" class="text-3xl font-bold"></h2>
                </div>
            </div>
            <div id="answersGrid" class="grid grid-cols-2 gap-4">
                <!-- Answer cards will be generated here -->
            </div>
        </div>

        <!-- Right Column: Controls -->
        <div id="right-column" class="lg:col-span-1 flex flex-col gap-6">
            <div class="card text-center">
                <h3 class="text-xl font-medium text-gray-500 mb-2">Current Team</h3>
                <p id="currentTeamDisplay" class="text-4xl font-bold google-blue">-</p>
            </div>
            <div class="card text-center">
                <h3 class="text-xl font-medium text-gray-500 mb-2">Time Left</h3>
                <p id="timerDisplay" class="text-6xl font-bold google-red">60</p>
            </div>
            <div class="flex flex-col gap-4">
                <button id="passTurnButton" class="card text-2xl font-bold text-yellow-600 hover:bg-yellow-50 focus:outline-none focus:ring-4 focus:ring-yellow-200 disabled:opacity-50 disabled:cursor-not-allowed" disabled>Pass Turn</button>
                <button id="endGameButton" class="card text-2xl font-bold text-red-600 hover:bg-red-50 focus:outline-none focus:ring-4 focus:ring-red-200">End Game</button>
            </div>
        </div>
    </main>

    <!-- Modal for Game Over -->
    <div id="gameOverModal" class="modal-overlay">
        <div class="modal-content card w-full max-w-2xl text-center">
            <h2 class="text-4xl font-bold google-blue mb-4">Game Over!</h2>
            <p class="text-xl mb-6">Here are the final scores:</p>
            <div id="finalScoresDisplay" class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
                <!-- Final scores go here -->
            </div>
            <div id="winnersDisplay" class="text-2xl font-bold mb-8"></div>
            <button id="playAgainButton" class="btn btn-blue text-lg">Play Again</button>
        </div>
    </div>

<script>
    // --- GAME DATA ---
    const teams = [
        { name: 'Performance Patriots', logoUrl: 'https://kapildoesmarketing.github.io/familyfeud/1.png' },
        { name: 'Impression Invaders', logoUrl: 'https://kapildoesmarketing.github.io/familyfeud/2.png' },
        { name: 'Xtreme Optimizers', logoUrl: 'https://kapildoesmarketing.github.io/familyfeud/3.png' },
        { name: 'Engagement Experts', logoUrl: 'https://kapildoesmarketing.github.io/familyfeud/5.png' },
        { name: 'Lead Legends', logoUrl: 'https://kapildoesmarketing.github.io/familyfeud/4.png' }
    ];

    const questions = [
        { question: "Name a Google Ads campaign type.", answers: [{ text: "Search", points: 10 },{ text: "Display", points: 10 },{ text: "Shopping", points: 10 },{ text: "Video", points: 10 },{ text: "App", points: 10 }] },
        { question: "Name a key metric in Google Analytics.", answers: [{ text: "Sessions", points: 10 },{ text: "Users", points: 10 },{ text: "Bounce Rate", points: 10 },{ text: "Conversion Rate", points: 10 },{ text: "Avg. Session Duration", points: 10 }] },
        { question: "Name a reason an ad might be disapproved.", answers: [{ text: "Trademark Violation", points: 10 },{ text: "Misleading Content", points: 10 },{ text: "Low Quality Landing Page", points: 10 },{ text: "Prohibited Content", points: 10 },{ text: "Gimmicky Text", points: 10 }] },
        { question: "What do clients always ask for?", answers: [{ text: "More Leads / Sales", points: 10 },{ text: "Lower CPA", points: 10 },{ text: "Higher CTR", points: 10 },{ text: "Better ROI", points: 10 },{ text: "Rank #1", points: 10 }] },
        { question: "Name a part of a Search ad.", answers: [{ text: "Headline", points: 10 },{ text: "Description", points: 10 },{ text: "Display URL", points: 10 },{ text: "Ad Extensions", points: 10 },{ text: "Final URL", points: 10 }] },
        { question: "Besides Google Ads, name a Google Marketing Platform product.", answers: [{ text: "Analytics 360", points: 10 },{ text: "Search Ads 360", points: 10 },{ text: "Display & Video 360", points: 10 },{ text: "Tag Manager 360", points: 10 },{ text: "Optimize 360", points: 10 }] },
        { question: "Name a type of keyword match.", answers: [{ text: "Broad Match", points: 10 },{ text: "Phrase Match", points: 10 },{ text: "Exact Match", points: 10 },{ text: "Broad Match Modifier", points: 10 },{ text: "Negative Match", points: 10 }] },
        { question: "What factor influences Ad Rank?", answers: [{ text: "Bid Amount", points: 10 },{ text: "Quality Score", points: 10 },{ text: "Ad Extensions Impact", points: 10 },{ text: "Ad Format", points: 10 },{ text: "User Context", points: 10 }] },
        { question: "Name a popular bidding strategy.", answers: [{ text: "Target CPA", points: 10 },{ text: "Maximize Conversions", points: 10 },{ text: "Enhanced CPC", points: 10 },{ text: "Maximize Clicks", points: 10 },{ text: "Target ROAS", points: 10 }] },
        { question: "Name a common challenge in digital marketing.", answers: [{ text: "Attribution", points: 10 },{ text: "Budget Constraints", points: 10 },{ text: "Ad Fraud", points: 10 },{ text: "Keeping up with changes", points: 10 },{ text: "Privacy Regulations", points: 10 }] }
    ];
    
    // Using a simpler rotation for 5 teams
    const teamRotation = [
        [0, 1, 2, 3, 4], // Q1
        [1, 2, 3, 4, 0], // Q2
        [2, 3, 4, 0, 1], // Q3
        [3, 4, 0, 1, 2], // Q4
        [4, 0, 1, 2, 3], // Q5
        [0, 2, 4, 1, 3], // Q6
        [1, 3, 0, 2, 4], // Q7
        [2, 4, 1, 3, 0], // Q8
        [3, 0, 2, 4, 1], // Q9
        [4, 1, 3, 0, 2]  // Q10
    ];

    // --- GAME STATE ---
    let currentQuestionIndex = 0;
    let teamScores = {};
    let activeTeamIndex = -1;
    let revealedAnswers = [];
    let timer = 60;
    let timerInterval;
    let roundTeamOrder = [];
    let currentTurnIndex = 0;

    // --- DOM ELEMENTS ---
    const teamsContainer = document.getElementById('teamsContainer');
    const questionDisplay = document.getElementById('questionDisplay');
    const roundDisplay = document.getElementById('roundDisplay');
    const answersGrid = document.getElementById('answersGrid');
    const currentTeamDisplay = document.getElementById('currentTeamDisplay');
    const timerDisplay = document.getElementById('timerDisplay');
    const passTurnButton = document.getElementById('passTurnButton');
    const endGameButton = document.getElementById('endGameButton');
    const startGameButton = document.getElementById('startGameButton');
    const initialView = document.getElementById('initialView');
    const questionView = document.getElementById('questionView');
    const gameOverModal = document.getElementById('gameOverModal');
    const finalScoresDisplay = document.getElementById('finalScoresDisplay');
    const winnersDisplay = document.getElementById('winnersDisplay');
    const playAgainButton = document.getElementById('playAgainButton');

    // --- GAME LOGIC ---

    function initGame() {
        // Reset state
        currentQuestionIndex = 0;
        teamScores = teams.reduce((acc, team) => ({ ...acc, [team.name]: 0 }), {});
        activeTeamIndex = -1;
        timer = 60;
        clearInterval(timerInterval);

        // Reset UI
        initialView.style.display = 'block';
        questionView.style.display = 'none';
        answersGrid.innerHTML = '';
        gameOverModal.classList.remove('visible');
        passTurnButton.disabled = true;

        timerDisplay.textContent = timer;
        currentTeamDisplay.textContent = '-';

        renderTeams();
    }

    function renderTeams() {
        teamsContainer.innerHTML = '';
        teams.forEach((team, index) => {
            const teamCard = document.createElement('div');
            teamCard.id = `team-card-${index}`;
            teamCard.className = 'team-card card flex items-center space-x-4';
            if (index === activeTeamIndex) {
                teamCard.classList.add('active');
            }
            teamCard.innerHTML = `
                <img src="${team.logoUrl}" alt="${team.name} Logo" class="w-20 h-20 object-contain">
                <div>
                    <p class="text-xl font-bold">${team.name}</p>
                    <p class="text-3xl font-bold google-blue">${teamScores[team.name] || 0}</p>
                </div>
            `;
            teamsContainer.appendChild(teamCard);
        });
    }

    function startGame() {
        initialView.style.display = 'none';
        questionView.style.display = 'block';
        passTurnButton.disabled = false;
        startRound();
    }
    
    function startRound() {
        if (currentQuestionIndex >= questions.length) {
            endGame();
            return;
        }

        revealedAnswers = Array(questions[currentQuestionIndex].answers.length).fill(false);
        roundTeamOrder = teamRotation[currentQuestionIndex];
        currentTurnIndex = 0;
        
        updateActiveTeam();
        
        roundDisplay.textContent = currentQuestionIndex + 1;
        questionDisplay.textContent = questions[currentQuestionIndex].question;

        renderAnswers();
        renderTeams();
        startTimer(60);
    }
    
    function renderAnswers() {
        answersGrid.innerHTML = '';
        questions[currentQuestionIndex].answers.forEach((answer, index) => {
            const isRevealed = revealedAnswers[index];
            const answerFlipper = document.createElement('div');
            answerFlipper.className = `answer-flipper h-24 md:h-28 cursor-pointer ${isRevealed ? 'revealed' : ''}`;
            answerFlipper.dataset.index = index;

            answerFlipper.innerHTML = `
                <div class="answer-inner">
                    <div class="answer-front">
                        <span class="text-4xl font-bold text-gray-400">${index + 1}</span>
                    </div>
                    <div class="answer-back">
                        <div class="text-center">
                            <p class="text-lg md:text-xl font-bold">${answer.text}</p>
                            <p class="text-sm md:text-base font-medium google-blue">${answer.points} Points</p>
                        </div>
                    </div>
                </div>
            `;
            
            if (!isRevealed) {
                answerFlipper.onclick = () => revealAnswer(index);
            } else {
                answerFlipper.style.cursor = 'default';
            }

            answersGrid.appendChild(answerFlipper);
        });
    }

    function revealAnswer(index) {
        if (revealedAnswers[index]) return;

        revealedAnswers[index] = true;
        
        const teamName = teams[activeTeamIndex].name;
        teamScores[teamName] += questions[currentQuestionIndex].answers[index].points;

        const flipper = document.querySelector(`.answer-flipper[data-index='${index}']`);
        flipper.classList.add('revealed');
        flipper.onclick = null; // Disable click after reveal
        flipper.style.cursor = 'default';

        renderTeams();
        
        // Check if all answers revealed
        if (revealedAnswers.every(r => r)) {
            setTimeout(endRound, 1000); // Give time for flip animation
        }
    }

    function updateActiveTeam() {
        activeTeamIndex = roundTeamOrder[currentTurnIndex];
        currentTeamDisplay.textContent = teams[activeTeamIndex].name;
        renderTeams();
    }

    function passTurn() {
        currentTurnIndex++;
        if (currentTurnIndex >= roundTeamOrder.length) {
            endRound();
        } else {
            updateActiveTeam();
            startTimer(15); // Restart timer for the next team with 15 seconds
        }
    }

    function startTimer(duration) {
        clearInterval(timerInterval);
        timer = duration;
        timerDisplay.textContent = timer;
        timerInterval = setInterval(() => {
            timer--;
            timerDisplay.textContent = timer;
            if (timer <= 0) {
                clearInterval(timerInterval);
                passTurn();
            }
        }, 1000);
    }

    function endRound() {
        clearInterval(timerInterval);
        passTurnButton.disabled = true;
        
        // Auto-reveal any remaining answers
        revealedAnswers.forEach((isRevealed, index) => {
            if (!isRevealed) {
                revealedAnswers[index] = true;
                const flipper = document.querySelector(`.answer-flipper[data-index='${index}']`);
                flipper.classList.add('revealed');
                flipper.onclick = null;
                flipper.style.cursor = 'default';
            }
        });
        
        // Show a "Next Round" button, or just move on after a delay
        setTimeout(() => {
            currentQuestionIndex++;
            passTurnButton.disabled = false;
            startRound();
        }, 3000); // Wait 3 seconds before starting next round
    }

    function endGame() {
        clearInterval(timerInterval);
        gameOverModal.classList.add('visible');

        const sortedTeams = Object.entries(teamScores).sort((a, b) => b[1] - a[1]);
        
        finalScoresDisplay.innerHTML = '';
        sortedTeams.forEach(([name, score]) => {
            const teamInfo = teams.find(t => t.name === name);
            finalScoresDisplay.innerHTML += `
                <div class="p-4 bg-gray-100 rounded-lg">
                    <p class="font-bold text-lg">${name}</p>
                    <p class="text-3xl font-bold google-blue">${score}</p>
                </div>
            `;
        });

        if (sortedTeams.length > 0) {
            winnersDisplay.innerHTML = `<span class="google-yellow">🏆 Winner: ${sortedTeams[0][0]} 🏆</span>`;
        }
    }

    // --- EVENT LISTENERS ---
    startGameButton.addEventListener('click', startGame);
    passTurnButton.addEventListener('click', passTurn);
    endGameButton.addEventListener('click', endGame);
    playAgainButton.addEventListener('click', initGame);

    // Initialize on page load
    window.onload = initGame;
</script>
</body>
</html>


